function mr_parallax(){function e(e){for(var t=0;t<e.length;t++)if("undefined"!=typeof document.body.style[e[t]])return e[t];return null}function t(){var e=0;return e=b?jQuery(".viu").find("nav:first").outerHeight(!0):jQuery(document).find("nav:first").outerHeight(!0)}function n(e,t,n,o){var r=e-1;return r/=o,e/=o,r--,e--,n*(e*e*e*e*e+1)+t-(n*(r*r*r*r*r+1)+t)}function o(){if(w){for(var e=d.length,t=a();e--;)r(d[e],t);w=!1}p&&(E+=-y*n(g,0,M,Q),(E>j||-j>E)&&(P.scrollBy(0,E),E=0),g++,g>Q&&(g=0,p=!1,v=!0,y=0,x=0,T=0,E=0)),u(o)}function r(e,t){if(b){if(t+f>e.elemTop&&t<e.elemBottom)if(e.isFirstSection){var n="translate3d(0, "+t/2+"px, 0)";e.imageHolder.style[c]=n}else{var n="translate3d(0, "+(t-e.elemTop-h)/2+"px, 0)";e.imageHolder.style[c]=n}}else if(t+f>e.elemTop&&t<e.elemBottom)if(e.isFirstSection){var n="translate3d(0, "+t/2+"px, 0)";e.imageHolder.style[c]=n}else{var n="translate3d(0, "+(t+f-e.elemTop)/2+"px, 0)";e.imageHolder.style[c]=n}}function a(){return P!=window?P.scrollTop:0==document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop}function i(){w=!0}function l(e){e.preventDefault&&e.preventDefault(),y=e.notRealWheel?-e.deltaY/4:1==e.deltaMode?-e.deltaY/3:100===Math.abs(e.deltaY)?-e.deltaY/120:-e.deltaY/40,y=-H>y?-H:y,y=y>H?H:y,p=!0,g=D}function s(e){var t={};return e&&"[object Function]"===t.toString.call(e)}var d,u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,m=["transform","msTransform","webkitTransform","mozTransform","oTransform"],c=e(m),f=Math.max(document.documentElement.clientHeight,window.innerHeight||0),h=0,w=!1,p=!1,v=!0,g=0,y=0,x=0,T=0,E=0,H=2,D=4,M=300,j=1,Q=30,E=0,P=window,_=this,b=void 0==window.mr_variant?!1:!0;jQuery(document).ready(function(){_.documentReady()}),jQuery(window).load(function(){_.windowLoad()}),this.documentReady=function(e){"use strict";return f=Math.max(document.documentElement.clientHeight,window.innerHeight||0),/Android|iPad|iPhone|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||window.opera)?jQuery(".parallax").removeClass("parallax"):u&&(_.profileParallaxElements(),_.setupParallax()),s(e)?void e():void 0},this.windowLoad=function(){f=Math.max(document.documentElement.clientHeight,window.innerHeight||0),h=t(),window.mr_parallax.profileParallaxElements()},this.setupParallax=function(){b=void 0==window.mr_variant?!1:!0,b&&(P=jQuery(".viu").get(0),void 0!=P&&(P.scrollBy=function(e,t){this.scrollTop+=t})),void 0!=P&&(P.addEventListener("scroll",i,!1),window.addWheelListener(P,l,!1),window.addEventListener("resize",function(){f=Math.max(document.documentElement.clientHeight,window.innerHeight||0),h=t(),_.profileParallaxElements()},!1),o())},this.profileParallaxElements=function(){d=[],h=t(),selector=".parallax > .background-image-holder, .parallax ul.slides > li > .background-image-holder",b&&(selector=".viu .parallax > .background-image-holder, .viu .parallax ul.slides > li > .background-image-holder"),jQuery(selector).each(function(e,t){var n=jQuery(this).closest(".parallax"),o=b?n.position().top:n.offset().top;d.push({section:n.get(0),outerHeight:n.outerHeight(),elemTop:o,elemBottom:o+n.outerHeight(),isFirstSection:n.is(":first-of-type")?!0:!1,imageHolder:jQuery(this).get(0)}),b?b&&(n.is(":first-of-type")?_.mr_setTranslate3DTransform(jQuery(this).get(0),0==a()?0:a()/2):_.mr_setTranslate3DTransform(jQuery(this).get(0),(a()-o-h)/2)):n.is(":first-of-type")?_.mr_setTranslate3DTransform(jQuery(this).get(0),0==a()?0:a()/2):_.mr_setTranslate3DTransform(jQuery(this).get(0),(a()+f-o-h)/2)})},this.mr_setTranslate3DTransform=function(e,t){e.style[c]="translate3d(0, "+t+"px, 0)"}}window.mr_parallax=new mr_parallax,function(e,t){function n(t,n,i,l){t[o](a+n,"wheel"==r?i:function(t){!t&&(t=e.event);var n={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaZ:0,notRealWheel:1,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==r?(n.deltaY=-1/40*t.wheelDelta,t.wheelDeltaX&&(n.deltaX=-1/40*t.wheelDeltaX)):n.deltaY=t.detail/3,i(n)},l||!1)}var o,r,a="";e.addEventListener?o="addEventListener":(o="attachEvent",a="on"),r="onwheel"in t.createElement("div")?"wheel":void 0!==t.onmousewheel?"mousewheel":"DOMMouseScroll",e.addWheelListener=function(e,t,o){n(e,r,t,o),"DOMMouseScroll"==r&&n(e,"MozMousePixelScroll",t,o)}}(window,document);